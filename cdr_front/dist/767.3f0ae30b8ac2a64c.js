"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[767],{7767:(m,a,i)=>{i.r(a),i.d(a,{default:()=>h});var s=i(177),e=i(3953),l=i(9437),c=i(8810),d=i(1626);let u=(()=>{class t{constructor(r){this.http=r,this.apiUrl="https://cdr.abacom.mx/api/sincronizar/uploadExcel"}uploadExcel(r){const o=new FormData;return o.append("file",r),this.http.post(this.apiUrl,o).pipe((0,l.W)(n=>(console.error("Error al subir el archivo:",n),n.error instanceof ErrorEvent?(0,c.$)(()=>new Error("Error en la subida del archivo. Intenta nuevamente.")):(0,c.$)(()=>new Error(`Error del servidor: ${n.status} ${n.statusText}`)))))}static#e=this.\u0275fac=function(o){return new(o||t)(e.KVO(d.Qq))};static#r=this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),h=(()=>{class t{constructor(r){this.sincronizarService=r,this.selectedFile=null}onFileSelected(r){this.selectedFile=r.target.files[0],this.selectedFile?console.log("Archivo seleccionado:",this.selectedFile.name):console.error("No se seleccion\xf3 un archivo")}onUpload(){this.selectedFile?this.sincronizarService.uploadExcel(this.selectedFile).subscribe(r=>{console.log("Archivo subido con \xe9xito",r)},r=>{console.error("Error al subir el archivo:",r)}):console.log("Por favor selecciona un archivo")}static#e=this.\u0275fac=function(o){return new(o||t)(e.rXU(u))};static#r=this.\u0275cmp=e.VBU({type:t,selectors:[["app-sincronizar"]],standalone:!0,features:[e.aNF],decls:26,vars:0,consts:[[1,"auth-main"],[1,"auth-wrapper","v3"],[1,"auth-form"],[1,"card","my-5"],[1,"card-body"],[1,"mb-4"],[1,"mb-5"],[1,"form-group","mb-3"],["for","excelFile",1,"form-label"],[1,"input-group"],["type","file","id","excelFile",1,"form-control",3,"change"],[1,"btn","btn-primary",3,"click"],[1,"d-grid"],[1,"btn","btn-primary"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5)(6,"b"),e.EFF(7,"Sincronizaci\xf3n"),e.k0s()(),e.j41(8,"div",6)(9,"h5")(10,"b"),e.EFF(11,"Importar archivo de Excel a MySQL"),e.k0s()(),e.j41(12,"div",7)(13,"label",8),e.EFF(14,"Campo del archivo"),e.k0s(),e.j41(15,"div",9)(16,"input",10),e.bIt("change",function(v){return n.onFileSelected(v)}),e.k0s(),e.j41(17,"button",11),e.bIt("click",function(){return n.onUpload()}),e.EFF(18,"Subir"),e.k0s()()()(),e.j41(19,"div",5)(20,"h5")(21,"b"),e.EFF(22,"Importar archivo de MySQL a ZOHO"),e.k0s()(),e.j41(23,"div",12)(24,"button",13),e.EFF(25,"Sincronizar"),e.k0s()()()()()()()())},dependencies:[s.MD]})}return t})()}}]);